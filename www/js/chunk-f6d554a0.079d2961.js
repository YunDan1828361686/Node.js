(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6d554a0"],{"4c17":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%",display:"flex","flex-direction":"column"}},[e("div",[e("button",{on:{click:t.refreshGantt}},[t._v("刷新")])]),e("ganttBox",{ref:"ganttBox",staticClass:"ganttBox",attrs:{height:"100%",row_height:t.row_height,scale_height:t.scale_height,min_column_width:t.min_column_width,ganttColumns:t.ganttColumns,ganttTasks:t.ganttTasks,ganttTooltip:t.ganttTooltip,ganttTooltipTextFun:t.ganttTooltipTextFun,ganttTooltipLinkFun:t.ganttTooltipLinkFun,grid_folderFun:t.grid_folderFun,grid_fileFun:t.grid_fileFun,grid_openFun:t.grid_openFun,task_classFun:t.task_classFun,ganttFullscreen:t.ganttFullscreen,ganttFullscreenIcon:t.ganttFullscreenIcon,ganttMarkerData:t.ganttMarkerData,rightside_textFun:t.rightside_textFun,task_textFun:t.task_textFun,onContextMenuFun:t.onContextMenuFun,ganttTypes:t.ganttTypes,onBeforeLightboxFun:t.onBeforeLightboxFun,ganttSort:t.ganttSort,taskCreateFun:t.taskCreateFun,taskUpdateFun:t.taskUpdateFun,taskDeleteFun:t.taskDeleteFun,linkCreateFun:t.linkCreateFun,linkUpdateFun:t.linkUpdateFun,linkDeleteFun:t.linkDeleteFun}})],1)},o=[],s=(a("55dd"),a("eacd")),i={name:"Gantt",components:{ganttBox:s["default"]},data:function(){return{row_height:30,scale_height:80,min_column_width:40,ganttTooltip:!0,ganttFullscreen:!0,ganttFullscreenIcon:"ivu-icon ivu-icon-md-expand gantt-fullscreen",ganttMarkerData:[{start_date:"2023-01-10",text:"启动",cssClass:"startupMarker"},{start_date:"2023-01-15",text:"再次启动",cssClass:"restartMarker"}],ganttColumns:[{name:"text",label:"名称",tree:!0,width:"200",template:function(t){return.5==t.progress?"<div class='ganttColumnsHigh'>"+t.text+"</div>":t.text}},{name:"start_date",width:80,align:"center"},{name:"assigned",label:"分配给",width:80,align:"center"},{name:"progress",label:"进度",width:"80",template:function(t){return'<div style="text-align:center;">'.concat((100*t.progress).toFixed(2),"%</div>")}},{name:"add",width:40}],ganttTasks:{data:[{id:10,text:"项目1",type:"project",progress:.6,assigned:"小明,小红,小刚",open:!0},{id:11,text:"项目2",type:"project",progress:.6,assigned:"大明,大红,大刚",open:!0},{id:12,text:"项目>任务1",type:"subproject",start_date:"2023-01-12",duration:"10",parent:"10",progress:1,assigned:"小明,小红",open:!0},{id:14,text:"项目>任务2",type:"subproject",start_date:"2023-01-12",duration:"3",parent:"10",progress:.8,assigned:"小红,小刚",open:!0},{id:15,text:"项目>任务3",type:"subproject",start_date:"2023-01-25",duration:"2",parent:"10",progress:.6,assigned:"小刚",open:!0},{id:13,text:"会议1",type:"meeting",start_date:"2023-01-10",duration:"2",parent:"10",assigned:"小明,小红,小刚",open:!0},{id:16,text:"会议2",type:"meeting",start_date:"2023-01-23",parent:"10",progress:0,assigned:"小红,小刚",open:!0},{id:17,text:"任务1.1",type:"task",start_date:"2023-01-10",duration:"2",parent:"12",progress:1,assigned:"小红",open:!0},{id:18,text:"任务1.2",type:"task",start_date:"2023-02-04",duration:"3",parent:"12",progress:.8,assigned:"小刚",open:!0},{id:19,text:"任务1.3",type:"task",start_date:"2023-02-04",duration:"4",parent:"12",progress:.2,assigned:"小红,小刚",open:!0},{id:20,text:"任务1.4",type:"task",start_date:"2023-02-12",duration:"4",parent:"12",progress:0,assigned:"小明,小刚",open:!0},{id:21,text:"任务3.1",type:"task",start_date:"2023-01-12",duration:"4",parent:"15",assigned:"小明,小刚",progress:.5,open:!0},{id:22,text:"任务3.2",type:"task",start_date:"2023-02-08",duration:"4",parent:"15",progress:.1,open:!0},{id:23,text:"任务3.3",type:"task",start_date:"2023-02-16",duration:"11",parent:"15",progress:0,open:!0}],links:[{id:"10",source:"10",target:"12",type:"1"},{id:"11",source:"12",target:"17",type:"0"},{id:"12",source:"17",target:"18",type:"0"},{id:"13",source:"17",target:"19",type:"0"},{id:"14",source:"19",target:"20",type:"0"}]},ganttTypes:[{typeName:"task",optionName:"任务",popupForm:[{name:"text",map_to:"text",labelName:"名称",type:"textarea",focus:!0},{name:"assigned",map_to:"assigned",labelName:"分配给",type:"checkbox",options:[{key:"小明",label:"小明"},{key:"小红",label:"小红"},{key:"小刚",label:"小刚"},{key:"大明",label:"大明"},{key:"大红",label:"大红"},{key:"大刚",label:"大刚"}],onchange:function(){console.log("checkbox switched")}},{name:"progress",map_to:"progress",labelName:"进度",type:"select",options:[{key:"0",label:"未开始"},{key:"0.1",label:"10%"},{key:"0.2",label:"20%"},{key:"0.3",label:"30%"},{key:"0.4",label:"40%"},{key:"0.5",label:"50%"},{key:"0.6",label:"60%"},{key:"0.7",label:"70%"},{key:"0.8",label:"80%"},{key:"0.9",label:"90%"},{key:"1",label:"完成"}]},{name:"type",map_to:"type",labelName:"类型",type:"typeselect"},{name:"time",map_to:"auto",labelName:"时间范围",type:"time",time_format:["%Y","%m","%d"]}]},{typeName:"subproject",optionName:"子项目",popupForm:[{name:"text",map_to:"text",type:"textarea",labelName:"名称",focus:!0},{name:"assigned",map_to:"assigned",labelName:"分配给",type:"checkbox",options:[{key:"小明",label:"小明"},{key:"小红",label:"小红"},{key:"小刚",label:"小刚"},{key:"大明",label:"大明"},{key:"大红",label:"大红"},{key:"大刚",label:"大刚"}],onchange:function(){console.log("checkbox switched")}},{name:"type",map_to:"type",labelName:"类型",type:"typeselect"},{name:"time",map_to:"auto",labelName:"时间范围",type:"time",time_format:["%Y","%m","%d"]}]},{typeName:"project",optionName:"项目",popupForm:[{name:"text",map_to:"text",type:"textarea",labelName:"名称",focus:!0},{name:"assigned",map_to:"assigned",labelName:"分配给",type:"checkbox",options:[{key:"小明",label:"小明"},{key:"小红",label:"小红"},{key:"小刚",label:"小刚"},{key:"大明",label:"大明"},{key:"大红",label:"大红"},{key:"大刚",label:"大刚"}],onchange:function(){console.log("checkbox switched")}},{name:"type",map_to:"type",labelName:"类型",type:"typeselect"},{name:"time",map_to:"auto",labelName:"时间范围",type:"time",time_format:["%Y","%m","%d"]}]},{typeName:"meeting",optionName:"会议",popupForm:[{name:"text",map_to:"text",type:"textarea",labelName:"名称",focus:!0},{name:"assigned",map_to:"assigned",labelName:"分配给",type:"checkbox",options:[{key:"小明",label:"小明"},{key:"小红",label:"小红"},{key:"小刚",label:"小刚"},{key:"大明",label:"大明"},{key:"大红",label:"大红"},{key:"大刚",label:"大刚"}],onchange:function(){console.log("checkbox switched")}},{name:"type",map_to:"type",labelName:"类型",type:"typeselect"},{name:"time",map_to:"auto",labelName:"时间范围",type:"time",time_format:["%Y","%m","%d"]}]}],ganttSort:"start_date"}},computed:{},methods:{refreshGantt:function(){this.$refs.ganttBox.refreshGantt()},rightside_textFun:function(t,e,a){return a.type==gantt.config.types.task?"加注释":""},ganttTooltipTextFun:function(t,e,a){return"<b>名称：</b> "+a.text+"<br/><b>开始时间：</b> "+gantt.templates.tooltip_date_format(t)+"<br/><b>结束时间：</b> "+gantt.templates.tooltip_date_format(e)},ganttTooltipLinkFun:function(t,e){var a=e.getAttribute(gantt.config.link_attribute);if(a){var n=gantt.getLink(a),o=gantt.getTask(n.source),s=gantt.getTask(n.target),i="";return i=0==n.type?"结束至开始":1==n.type?"开始至开始":2==n.type?"结束至结束":3==n.type?"开始至结束":"",["<b>链路：</b> "+i,"<b>开始：</b> "+o.text,"<b>结束：</b> "+s.text].join("<br>")}},task_classFun:function(t,e,a){return"project"==a.type?"ganttTaskProject":.5==a.progress?"ganttTaskHigh":void 0},grid_folderFun:function(t){},grid_fileFun:function(t){},grid_openFun:function(t){return'<div class="gantt_tree_icon gantt_'.concat(t.$open?"close":"open",'"><i class="ivu-icon ivu-icon-ios-arrow-').concat(t.$open?"dropdown":"dropright",'" style="font-size:20px;height: 100%;line-height: 29px;"></i></div>')},task_textFun:function(t,e,a){return"project"==a.type?'<div class="gantt-project-left"></div><div class="gantt-project-right"></div>':"meeting"==a.type?a.text:a.text+" （进度".concat((100*a.progress).toFixed(2),"%）")},onContextMenuFun:function(t,e,a){a.clientX,document.body.scrollLeft,document.documentElement.scrollLeft,a.clientY,document.body.scrollTop,document.documentElement.scrollTop;return!t&&!e},onBeforeLightboxFun:function(t){gantt.resetLightbox();gantt.getTask(t);return!0},simulateSave:function(t,e,a){var n=this,o={start_date:"2023-01-03",end_date:"2023-01-23",text:"gantt.getLightboxValues().text",type:"task",duration:"20",parent:a,progress:"0.5",assigned:"小明,小红"};1==t?(o.id=(new Date).getTime(),gantt.addTask(o),gantt.deleteTask(e)):(o.id=e,gantt.addTask(o)),this.$nextTick((function(){setTimeout((function(){gantt.refreshData(),gantt.refreshLink(),gantt.refreshTask(),gantt.hideLightbox(),gantt.sort(n.ganttSort)}),1e3)}))},taskCreateFun:function(t){console.log("新增任务",t)},taskUpdateFun:function(t,e){console.log("更新任务",t,e)},taskDeleteFun:function(t){console.log("删除任务",t,gantt.serialize().data)},linkCreateFun:function(t){console.log("新增链接",t)},linkUpdateFun:function(t,e){console.log("更新链接",t,e)},linkDeleteFun:function(t){console.log("删除链接",t)}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.ganttBox.init()}))},watch:{}},r=i,l=(a("a4d6"),a("2877")),p=Object(l["a"])(r,n,o,!1,null,"1d0a9818",null);e["default"]=p.exports},a4d6:function(t,e,a){"use strict";a("f52d")},f52d:function(t,e,a){}}]);